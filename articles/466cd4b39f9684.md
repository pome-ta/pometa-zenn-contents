---
title: "ã€éæ¨å¥¨ã€‘Rubicon-ObjC ã®æ‰‹å‹•ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ãƒ»ã‚¤ãƒ³ãƒãƒ¼ãƒˆ"
emoji: "ğŸˆ²"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["Python", "iOS", "mobile", "Pythonista3", "rubiconobjc"]
published: false
---
## åˆ©ç”¨ä¸Šã®æ³¨æ„ â›”ï¸

:::message alert
æ­£è¦ã®æ–¹æ³•ã§ã¯ã‚ã‚Šã¾ã›ã‚“
ã‚¿ã‚¤ãƒˆãƒ«ã§`ã€éæ¨å¥¨ã€‘` ã¨å¼·èª¿ã—ã¦ã„ã‚‹ã‚ˆã†ã«ã€ç´¹ä»‹ã™ã‚‹å†…å®¹ã¯æ¨å¥¨ã§ãã‚‹æ‰‹æ³•ã§ã¯ã‚ã‚Šã¾ã›ã‚“

ã€æ¨å¥¨ã€‘ä»¥ä¸‹è¨˜äº‹ãŒã€ã¨ã¦ã‚‚ä¸å¯§ã«èª¬æ˜ãã ã•ã£ã¦ã„ã¾ã™:
:::

@[card](https://zenn.dev/qqfunc/articles/b39a657990c9f0)

:::message
ä»¥ä¸‹ï¼ˆå€‹äººçš„ï¼‰ç’°å¢ƒã®äº‹æƒ…ã«ã‚ˆã‚Šã€ç´¹ä»‹ã™ã‚‹æ–¹æ³•ã‚’æ¡ç”¨ã—ã¦ã„ã¾ã™

- iOS ç«¯æœ«ä¸Šã§ã¯ã€1ãƒªãƒã‚¸ãƒˆãƒªï¼ˆãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ï¼‰é‹ç”¨
- [Working Copy - Git client](https://apps.apple.com/jp/app/working-copy-git-client/id896694807) ã§ãƒªãƒã‚¸ãƒˆãƒªã‚’ä¸€æ‹¬ç®¡ç†
- [Pythonista 3](https://apps.apple.com/jp/app/pythonista-3/id1085978097) ï¼ˆ[Pyto](https://apps.apple.com/jp/app/pyto-python-3/id1436650069) ã‚„ã€[a-Shell](https://apps.apple.com/jp/app/a-shell/id1473805438) ï¼‰ã§ã€WorkingCopy ãƒ•ã‚©ãƒ«ãƒ€å†…ã®ãƒ‡ãƒ¼ã‚¿ã‚’å‚ç…§ã—å®Ÿè¡Œ
  - Pythonista 3
    - ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã¯pip ãŒãªã„
  - Pyto
    - ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®Rubicon-ObjC ã¨ç«¶åˆã—ã¦ã—ã¾ã†
- ï¼ˆãªã‚‹ã¹ãã‚¢ãƒ—ãƒªã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆçŠ¶æ…‹ã‚’å´©ã—ãŸããªã„ï¼‰

ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã§ã€ç’°å¢ƒç®¡ç†ã‚’ã—ã¦ã„ã‚‹ã‚¤ãƒ¡ãƒ¼ã‚¸ã§ã™ï¼ˆãƒŠã‚¦ã„ç’°å¢ƒè¨­å®šã¨é€†è¡Œï¼‰
:::

## Rubicon-ObjC ã®å–å¾—

å„ã€…ã®ã‚„ã‚Šã‚„ã™ã„æ–¹æ³•ã§ã€get ã—ã¦ãã¾ã™ã€‚

### GitHub

#### ãƒªãƒã‚¸ãƒˆãƒªã®top

ä¸‹è¨˜ã®ãƒªãƒªãƒ¼ã‚¹ãƒšãƒ¼ã‚¸ã¨ã‚‚ã«ã€ãƒ–ãƒ©ã‚¦ã‚¶ä¸Šã‹ã‚‰`.zip` ãƒ•ã‚¡ã‚¤ãƒ«ã§å–å¾—å¯èƒ½ã§ã™

@[card](https://github.com/beeware/rubicon-objc)

ï¼ˆç§ã®å ´åˆã¯ã€WorkingCopy ã§clone ã—ã¦å–å¾—ã—ã¦ã„ã¾ã™ï¼‰

#### æœ€æ–°ãƒªãƒªãƒ¼ã‚¹ã®ãƒªãƒ³ã‚¯

@[card](https://github.com/beeware/rubicon-objc/releases/latest)

#### v0.4.8 ãƒªãƒªãƒ¼ã‚¹ç‰ˆ

ï¼ˆã“ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã®ãŠã‹ã’ã§ã€æ°—è»½ã«Pythonista3 ã§é–‹ç™ºãŒã§ãã‚‹ï¼‰

@[card](https://github.com/beeware/rubicon-objc/releases/tag/v0.4.8)

### pip

@[card](https://pypi.org/project/rubicon-objc/)

``` terminal
pip install rubicon-objc
```

## i(Pad)OS ä¸Šã§ã®èª¿æ•´

### å¿…è¦ãªãƒ‡ãƒ¼ã‚¿ã®æŠœãå–ã‚Š

ã¡ã‚‡ã£ã¨ã ã‘ãƒ•ã‚©ãƒ«ãƒ€åã‚„ãƒ•ã‚¡ã‚¤ãƒ«å†…å®¹ã‚’æ›¸ãæ›ãˆã‚‹ã®ã§ã€ç‰¹å®šã®ãƒ•ã‚©ãƒ«ãƒ€ã‚’æŠœãå–ã‚Šã¾ã™

``` terminal
rubicon-objc/src/rubicon
```

`rubicon` ãƒ•ã‚©ãƒ«ãƒ€ãŒå¿…è¦ãªãƒ•ã‚©ãƒ«ãƒ€ã§ã™ã€‚

#### å‚è€ƒ

```terminal:ã‚«ãƒ¬ãƒ³ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªä¸€è¦§
rubicon-objc
â”œâ”€â”€ .git
â”œâ”€â”€ .git-blame-ignore-revs
â”œâ”€â”€ .github
â”œâ”€â”€ .gitignore
â”œâ”€â”€ .pre-commit-config.yaml
â”œâ”€â”€ .readthedocs.yml
â”œâ”€â”€ CHANGELOG.rst
â”œâ”€â”€ CONTRIBUTING.md
â”œâ”€â”€ LICENSE
â”œâ”€â”€ README.rst
â”œâ”€â”€ changes
â”œâ”€â”€ docs
â”œâ”€â”€ pyproject.toml
â”œâ”€â”€ src       ğŸ‘ˆ ã“ã‚Œ
â”œâ”€â”€ tests
â””â”€â”€ tox.ini
```

ï¼ˆç¢ºèªã™ã‚‹ç’°å¢ƒã«ã‚ˆã‚Šã€ãƒ‰ãƒƒãƒˆãƒ•ã‚¡ã‚¤ãƒ«ãŒå‡ºã¦ã„ãªã„å ´åˆãŒã‚ã‚Šã¾ã™ï¼ˆå•é¡Œã‚ã‚Šã¾ã›ã‚“ï¼‰ï¼‰

### æ›¸ãæ›ãˆ

ä»¥ä¸‹ã®çŠ¶æ…‹ã«ã—ã¦ã„ãã¾ã™

```terminal:å®Œæˆå½¢
pyrubicon             ğŸ‘ˆ `rubicon` ã‚’`pyrubicon` ã«æ›¸ãæ›ãˆ
â”œâ”€â”€ .gitkeep
â””â”€â”€ objc              ğŸ‘ˆ è¿½åŠ ï¼ˆãŠå¥½ã¿ã§ï¼‰
    â”œâ”€â”€ __init__.py   ğŸ‘ˆ ãƒ•ã‚¡ã‚¤ãƒ«å†…1ãƒ¶æ‰€å¤‰æ›´
    â”œâ”€â”€ api.py
    â”œâ”€â”€ collections.py
    â”œâ”€â”€ ctypes_patch.py
    â”œâ”€â”€ eventloop.py
    â”œâ”€â”€ runtime.py
    â””â”€â”€ types.py

```

#### ãƒ•ã‚©ãƒ«ãƒ€å

`rubicon` ã‚’`pyrubicon` ã«æ›¸ãæ›ãˆã‚’ã—ã¾ã™ã€‚ãªãŠã€`py` ä»¥å¤–ã§ã‚‚å•é¡Œã‚ã‚Šã¾ã›ã‚“ã€‚
ï¼ˆç‰¹ã«ï¼‰Pyto ã«ã¦ã€äº‹å‰ã«å…¥ã£ã¦ã„ã‚‹`rubicon` ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã¨è¡çªã‚’å›é¿ã™ã‚‹ãŸã‚ã®å‡¦ç½®ã§ã™ã€‚

`rubiconâ—‹â—‹` ã‚„ã‚‰`â—‹â—‹Rubicon` ã§ã‚‚ã‚ˆã‹ã£ãŸã®ã§ã™ãŒã€ã‚³ãƒ¼ãƒ‰ä¸Šã§`pyrubicon` <-> `rubicon` ã®æ›¸ãæ›ãˆã®æ‰‹é–“ã‚’è€ƒæ…®ã™ã‚‹ã¨ã€å…ˆé ­å´ã«ã‚ã£ã¦ã€ãŸã æ¶ˆã™ã ã‘ã§ã„ã„ã€‚ã¨ã„ã†ç†ç”±ã‹ã‚‰æ¡ç”¨ã‚’ã—ã¦ã„ã¾ã™ã€‚

#### ãƒ•ã‚¡ã‚¤ãƒ«å†…å¤‰æ›´

`__init__.py` ã®å†…éƒ¨ã‚’æ›¸ãæ›ãˆã¾ã™ã€‚ãƒ•ã‚¡ã‚¤ãƒ«æ ¼ç´å…ˆã¯:

```terminal
rubicon/objc/__init__.py
```

ä»¥ä¸‹ã€å¤‰æ›´å†…å®¹ã§ã™ã€‚

```diff py:å…ˆé ­è¡Œã‹ã‚‰è¡¨ç¤º
try:
    # Read version from SCM metadata
    # This will only exist in a development environment
    from setuptools_scm import get_version

    # Excluded from coverage because a pure test environment (such as the one
    # used by tox in CI) won't have setuptools_scm
    __version__ = get_version("../../..", relative_to=__file__)  # pragma: no cover
except (ModuleNotFoundError, LookupError):
    # If setuptools_scm isn't in the environment, the call to import will fail.
    # If it *is* in the environment, but the code isn't a git checkout (e.g.,
    # it's been pip installed non-editable) the call to get_version() will fail.
    # If either of these occurs, read version from the installer metadata.

    # importlib.metadata.version was added in Python 3.8
    try:
        from importlib.metadata import version
    except ModuleNotFoundError:
        from importlib_metadata import version

+   __version__ = None #version("rubicon-objc")
-   __version__ = version("rubicon-objc")

```

å¤‰æ•°`__version__` ã«ã¯ã€rubicon-OjbC ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ãŒå…¥ã‚Šã¾ã™ã€‚ãŒã€æ‰‹å‹•ã§ã®å°å…¥ã®é–¢ä¿‚ã§å‚ç…§å…ˆã«ãƒãƒ¼ã‚¸ãƒ§ãƒ³æƒ…å ±ãŒãªã„ã®ã§`None` ã¨ã—ã¦ãŠãã¾ã™ã€‚

ç§ã¯ã€1è¡Œåˆ†ã®å‡¦ç†ã ã‘ã®æ–¹ãŒæ°—ãŒæ¥½ãªã®ã§ã€ã“ã®ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚
`try` ãƒ»`except` è‡ªä½“ãŒç„¡é§„ã‚„ã‚“ï¼ã¨æ„Ÿã˜ã‚‹æ–¹ã¯ã€å…ˆé ­è¡Œã‹ã‚‰`__version__` å®šç¾©ç›´å‰ã¾ã§ã‚´ãƒªã£ã¨ã‚³ãƒ¡ãƒ³ãƒˆã‚¢ã‚¦ãƒˆã—ã¦ã‚‚ã„ã„ã¨æ€ã„ã¾ã™ã€‚ãã®éš›ã«ã¯ã€ã‚¤ãƒ³ãƒ‡ãƒ³ãƒˆã‚’ä¸‹ã’ã‚‹ã®ã‚’å¿˜ã‚Œãªã„ã‚ˆã†ã«ã€‚

#### ï¼ˆè¿½åŠ ï¼š ãŠå¥½ã¿ã§ï¼‰

ã‚«ãƒ¬ãƒ³ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªç›´ä¸‹ã«ã€`.gitkeep` ã¨ã—ã¦ã€ä¸­èº«ãŒç©ºã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’è¿½åŠ ã—ã¦ã„ã¾ã™ã€‚WorkingCopy ã‚’ä½¿ã†æ™‚ã®ç©ºãƒ•ã‚©ãƒ«ãƒ€æ‰±ã„å¯¾ç­–ã¨ã—ã¦ä½¿ã£ã¦ã„ã¾ã™ã€‚

@[card](https://qiita.com/ndxbn/items/f124d2b183b60cb074e2)

## ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®è¨­ç½®å ´æ‰€

åŸºæœ¬çš„ã«ã€å®Ÿè¡Œãƒ•ã‚¡ã‚¤ãƒ«ã¨åŒéšå±¤ã«`pyrubicon` ãƒ•ã‚©ãƒ«ãƒ€ã‚’é…ç½®ã—ã¾ã™ã€‚

```terminal
ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ•ã‚¡ã‚¤ãƒ«
â”œâ”€â”€ 240404_2234.py
â”œâ”€â”€ mainThread.py   
â”œâ”€â”€ pdbr.py
â””â”€â”€ pyrubicon
    â”œâ”€â”€ .gitkeep
    â””â”€â”€ objc
        â”œâ”€â”€ __init__.py
        â”œâ”€â”€ api.py
        â”œâ”€â”€ collections.py
        â”œâ”€â”€ ctypes_patch.py
        â”œâ”€â”€ eventloop.py
        â”œâ”€â”€ runtime.py
        â””â”€â”€ types.py

```

## Pythonista3 ã‚„Pyto ã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ãŸã„

ãã‚Œãã‚Œã®é¢å€’ã•ãŒã‚ã‚‹

### Pythonista3

- pip ãŒå…¬å¼ã§æº–å‚™ã•ã‚Œã¦ã„ãªã„

### Pyto

- ã™ã§ã«ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã¨ã—ã¦å…¥ã£ã¦ã„ã‚‹

[Pyto](https://apps.apple.com/jp/app/pyto-python-3/id1436650069)

[a-Shell](https://apps.apple.com/jp/app/a-shell/id1473805438)

``` terminal
pyrubicon
â”œâ”€â”€ .gitkeep
â””â”€â”€ objc
    â”œâ”€â”€ __init__.py
    â”œâ”€â”€ api.py
    â”œâ”€â”€ collections.py
    â”œâ”€â”€ ctypes_patch.py
    â”œâ”€â”€ eventloop.py
    â”œâ”€â”€ runtime.py
    â””â”€â”€ types.py

```

```
rubicon-objc
â”œâ”€â”€ CHANGELOG.rst
â”œâ”€â”€ CONTRIBUTING.md
â”œâ”€â”€ LICENSE
â”œâ”€â”€ README.rst
â”œâ”€â”€ changes
â”œâ”€â”€ docs
â”œâ”€â”€ pyproject.toml
â”œâ”€â”€ src
â”œâ”€â”€ tests
â””â”€â”€ tox.ini
```

```
rubicon-objc
â”œâ”€â”€ .git
â”œâ”€â”€ .git-blame-ignore-revs
â”œâ”€â”€ .github
â”œâ”€â”€ .gitignore
â”œâ”€â”€ .pre-commit-config.yaml
â”œâ”€â”€ .readthedocs.yml
â”œâ”€â”€ CHANGELOG.rst
â”œâ”€â”€ CONTRIBUTING.md
â”œâ”€â”€ LICENSE
â”œâ”€â”€ README.rst
â”œâ”€â”€ changes
â”œâ”€â”€ docs
â”œâ”€â”€ pyproject.toml
â”œâ”€â”€ src
â”œâ”€â”€ tests
â””â”€â”€ tox.ini
```
