---
title: "„ÄêÂà∂‰ΩúÁ∑®„Äë#3: a-Shell(mini) „ÅÆ Python „Å¶„Çô UIKit „Åã„Çâ View „ÇíÂëº„Å≤„ÇôÂá∫„Åô„ÄêRubicon-ObjC„Äë"
emoji: "üéÅ"
type: "tech"
topics: ["Python", "iOS", "objectivec", "ashell", "rubiconobjc"]
published: false
---

# „ÅØ„Åò„ÇÅ„Å´

[a-Shell](https://holzschu.github.io/a-Shell_iOS/) „Åß„ÄÅ[SF Symbols](https://developer.apple.com/jp/sf-symbols/) „ÅÆ‰∏ÄË¶ß„ÇíÂá∫„ÅôÁ∞°Âçò„Å™„Ç¢„Éó„É™„Çí„Å§„Åè„Çä„Åæ„Åô„ÄÇ
:::message
App Store „Å∏ÂÖ¨Èñã„ÅØ„Åß„Åç„Åæ„Åõ„Çì
:::

![image](https://github.com/user-attachments/assets/9bd5ebab-2e22-4f66-be66-fb31da505efb)

@[card](https://developer.apple.com/jp/sf-symbols/)

‰ªä„Åæ„ÅßÁ¥π‰ªã„Åó„Åü module „Çí‰Ωø„ÅÑ„ÄÅÁ´ØÊú´ÂÜÖ„Å´„ÅÇ„Çã SF Symbols „Éá„Éº„Çø„ÅÆÂèñ„ÇäÂá∫„Åó„Åã„ÇâË°®Á§∫„Åæ„Åß„Çí„Éè„É≥„Ç∫„Ç™„É≥ÂΩ¢Âºè„ÅßÂÆüË£Ö„Åó„Å¶„ÅÑ„Åç„Åæ„Åô„ÄÇ

## ÂÖ® 3 ÈÉ®ÊßãÊàê„ÅÆÁ¨¨ 2 ÈÉ®„Åß„Åô

„Åì„ÅÆË®ò‰∫ã„ÇíÂê´„ÇÅ„ÄÅ3 ÈÉ®ÊßãÊàê„ÅßËß£Ë™¨„Çí„Åó„Å¶„ÅÑ„Åç„Åæ„Åô:

- „ÄêÂü∫Êú¨Á∑®„Äë#1: a-Shell(mini) „Åß„Ç¢„Éó„É™„Çí„Å§„Åè„Çã„ÄêRubicon-ObjC„Äë

  - a-Shell ÂÆüË°å„ÅÆÂ§ß„Åæ„Åã„Å™ÊµÅ„Çå
  - 1 „Éï„Ç°„Ç§„É´„ÅÆ„Åø„ÅÆÁ∞°Êòì„Å™ÂÆüË£Ö

- „Äêmodule Á∑®„Äë#2: a-Shell(mini) „Åß„Ç¢„Éó„É™„Çí„Å§„Åè„Çã„ÄêRubicon-ObjC„Äë

  - 1 „Éï„Ç°„Ç§„É´„Å†„Å£„Åü„Ç≥„Éº„Éâ„Çí module „Å∏ÂàÜÂâ≤
  - ÂêÑÈÉ®„Ç≥„Éº„Éâ„ÅÆË™¨Êòé
  - „Ç¢„Éó„É™Âà∂‰Ωú„ÅÆ„Åü„ÇÅ„ÅÆÁí∞Â¢ÉÊï¥ÂÇô

- „ÄêÂà∂‰ΩúÁ∑®„Äë#3: a-Shell(mini) „ÅÆ Python „Åß UIKit „Åã„Çâ View „ÇíÂëº„Å≥Âá∫„Åô„ÄêRubicon-ObjC„Äë
  - (‰ªäÂõû„ÅØ„Åì„Åì)
  - Rubicon-ObjC „Çí‰Ωø„Å£„ÅüÂÆüË£Ö„ÅÆÊµÅ„Çå
  - Swift, Objective-C „ÅÆ„Ç≥„Éº„Éâ„Çí Rubicon-ObjC „Å∏ËêΩ„Å®„ÅóËæº„Åø

3 „Å§„ÅÆË®ò‰∫ã„ÇíÈÄö„Åó„Åü„Ç≥„Éº„Éâ„ÅØ„ÄÅGitHub „ÅßÂÖ¨Èñã„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇ

@[card](https://github.com/pome-ta/a-Shell_Rubicon-ObjC_UIKitSamples)

:::message

### ÂêÑ„Éê„Éº„Ç∏„Éß„É≥ÊÉÖÂ†±

```
iOS           : 18.3.1
a-Shell(mini) :  1.15.11
  Python      :  3.11.0
Rubicon-ObjC  :  0.5.0
```

(‰∏ÄÂøú)a-Shell ‰ª•Â§ñ„Å´ [Pythonista for iOS](https://omz-software.com/pythonista/index.html) „Åß„ÄÅÊåôÂãïÁ¢∫Ë™ç„Çí„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇ
:::

:::message alert

### module ÂÜÖ„Éï„Ç°„Ç§„É´Á∑®ÈõÜÂæå„ÅÆÂÆüË°å„Å´„Å§„ÅÑ„Å¶

import „Åô„Çã module „ÇíÁ∑®ÈõÜ„ÅóÂÆüË°å„Åó„ÅüÂ†¥Âêà„ÄÅ**Â§âÊõ¥ÂÜÖÂÆπ„ÅåÂèçÊò†„Åï„Çå„Åæ„Åõ„Çì** („Åæ„Åü„ÅØ„ÄÅÂèØËÉΩÊÄß„Åå„ÅÇ„Çä„Åæ„Åô)„ÄÇ
„Åù„ÅÆ„Åü„ÇÅ„ÄÅmodule ÂÜÖ„ÅÆ„Éï„Ç°„Ç§„É´„ÇíÁ∑®ÈõÜ„Åó„ÅüÂæå„ÅØ„ÄÅ**a-Shell „ÇíÂÜçËµ∑Âãï**„Åó„Å¶„Åã„Çâ„ÄÅÂÆüË°å„Åô„Çã„Åì„Å®„Çí„ÅäÂãß„ÇÅ„Åó„Åæ„Åô„ÄÇ
:::

# „Éè„É≥„Ç∫„Ç™„É≥

Á©∫„ÅÆÊñ∞Ë¶è„Éï„Ç°„Ç§„É´„Åã„Çâ„ÄÅÈ†Ü„ÇíËøΩ„Å£„Å¶ÂÆüË£Ö„Åó„Å¶„ÅÑ„Åç„Åæ„Åô„ÄÇÊúÄÁµÇÁöÑ„Å´„ÅØ`exampleSFSymbolsViewer.py` „Å®„Å™„Çã‰∫àÂÆö„Åß„Åô„ÄÇ


```python
from pathlib import Path
import plistlib

from pyrubicon.objc.api import ObjCClass
from pyrubicon.objc.api import objc_method, objc_property
from pyrubicon.objc.runtime import send_super

from rbedge.enumerations import UITableViewStyle
from rbedge.functions import NSStringFromClass
from rbedge import pdbr

UIViewController = ObjCClass('UIViewController')
UITableView = ObjCClass('UITableView')
UITableViewCell = ObjCClass('UITableViewCell')
UIImage = ObjCClass('UIImage')

NSLayoutConstraint = ObjCClass('NSLayoutConstraint')
UIColor = ObjCClass('UIColor')


def get_order_list():
  CoreGlyphs_path = '/System/Library/CoreServices/CoreGlyphs.bundle/'

  symbol_order_path = 'symbol_order.plist'
  symbol_order_bundle = Path(CoreGlyphs_path, symbol_order_path)

  order_list = plistlib.loads(symbol_order_bundle.read_bytes())
  return order_list


class SFSymbolsViewController(UIViewController):

  cell_identifier: str = objc_property()
  all_items: list = objc_property()

  @objc_method
  def loadView(self):
    send_super(__class__, self, 'loadView')
    self.cell_identifier = 'customCell'
    self.all_items = get_order_list()

  @objc_method
  def viewDidLoad(self):
    send_super(__class__, self, 'viewDidLoad')

    # --- Navigation
    self.navigationItem.title = NSStringFromClass(__class__) if (
      title := self.navigationItem.title) is None else title
    self.view.backgroundColor = UIColor.systemBackgroundColor()

    # --- Table
    sf_tableView = UITableView.alloc().initWithFrame_style_(
      self.view.bounds, UITableViewStyle.plain)
    sf_tableView.registerClass_forCellReuseIdentifier_(UITableViewCell,
                                                       self.cell_identifier)
    sf_tableView.dataSource = self
    sf_tableView.delegate = self

    # --- Layout
    self.view.addSubview_(sf_tableView)
    sf_tableView.translatesAutoresizingMaskIntoConstraints = False
    areaLayoutGuide = self.view.safeAreaLayoutGuide

    NSLayoutConstraint.activateConstraints_([
      sf_tableView.centerXAnchor.constraintEqualToAnchor_(
        areaLayoutGuide.centerXAnchor),
      sf_tableView.centerYAnchor.constraintEqualToAnchor_(
        areaLayoutGuide.centerYAnchor),
      sf_tableView.widthAnchor.constraintEqualToAnchor_multiplier_(
        areaLayoutGuide.widthAnchor, 1.0),
      sf_tableView.heightAnchor.constraintEqualToAnchor_multiplier_(
        areaLayoutGuide.heightAnchor, 1.0),
    ])

  @objc_method
  def didReceiveMemoryWarning(self):
    send_super(__class__, self, 'didReceiveMemoryWarning')
    print(f'\t{NSStringFromClass(__class__)}: didReceiveMemoryWarning')

  # --- UITableViewDataSource
  @objc_method
  def tableView_numberOfRowsInSection_(self, tableView, section: int) -> int:
    return len(self.all_items)

  @objc_method
  def tableView_cellForRowAtIndexPath_(self, tableView, indexPath):
    cell = tableView.dequeueReusableCellWithIdentifier_forIndexPath_(
      self.cell_identifier, indexPath)

    symbol_name = self.all_items[indexPath.row]

    content = cell.defaultContentConfiguration()
    content.text = symbol_name
    content.textProperties.numberOfLines = 1
    content.image = UIImage.systemImageNamed_(symbol_name)
    cell.contentConfiguration = content

    return cell

  # --- UITableViewDelegate
  @objc_method
  def tableView_didSelectRowAtIndexPath_(self, tableView, indexPath):
    #tableView.deselectRowAtIndexPath_animated_(indexPath, True)
    select_item = self.all_items[indexPath.row]

    print(f'select:\t{select_item}')


if __name__ == '__main__':
  from rbedge.app import App
  from rbedge.enumerations import UIModalPresentationStyle

  main_vc = SFSymbolsViewController.new()
  _title = NSStringFromClass(SFSymbolsViewController)
  main_vc.navigationItem.title = _title

  presentation_style = UIModalPresentationStyle.fullScreen

  app = App(main_vc, presentation_style)
  app.present()
```

## „Åæ„Åö„ÅØ„ÄÅ‰Ωï„ÇÇ„Åó„Å™„ÅÑ View „ÇíÂá∫„Åô

### `UIViewController` „Çí„Åù„ÅÆ„Åæ„Åæ

View „ÅåÂá∫„Å™„ÅÑ„Å®Âßã„Åæ„Çâ„Å™„ÅÑ„ÅÆ„Åß„ÄÅView „ÅåÂá∫„ÇãÁä∂ÊÖã„Åæ„ÅßÊåÅ„Å£„Å¶„ÅÑ„Åç„Åæ„Åô„ÄÇ
Class `UIViewController` „ÇíÁ∂ôÊâø„Åó„Åæ„Åô„Åå„ÄÅÊúÄÂàù„ÅØ`UIViewController` „Çí„Åù„ÅÆ„Åæ„ÅæÂá∫„Åó„Å¶„Åø„Åæ„Åó„Çá„ÅÜ„ÄÇ

```python
from pyrubicon.objc.api import ObjCClass
from rbedge.functions import NSStringFromClass

UIViewController = ObjCClass('UIViewController')

if __name__ == '__main__':
  from rbedge.app import App
  from rbedge.enumerations import UIModalPresentationStyle

  main_vc = UIViewController.new()
  _title = NSStringFromClass(UIViewController)
  main_vc.navigationItem.title = _title

  presentation_style = UIModalPresentationStyle.fullScreen

  app = App(main_vc, presentation_style)
  app.present()

```

![image](https://github.com/user-attachments/assets/9eed1ee0-e57c-4aba-aa49-941e799bac46)

`navigationItem.title` „Çí„Ç§„É≥„Çπ„Çø„É≥„ÇπÁîüÊàêÂæå„Å´ÊåáÂÆö„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇ`NSStringFromClass` „Åß„ÄÅClass `UIViewController` „Çà„ÇäÊñáÂ≠óÂàó„ÇíÂèñÂæó„Åó„Åæ„Åô„ÄÇ

### Á∂ôÊâø„Åó„Åü„ÇØ„É©„Çπ`SFSymbolsViewController`

Class `UIViewController` „ÇíÁ∂ôÊâø„Åó`SFSymbolsViewController` „ÇØ„É©„Çπ„Å®„Åó„Åæ„Åô„ÄÇ
‰ªäÂæå„ÅØ„Åì„ÅÆ„ÇØ„É©„Çπ„Å´ÂÆüË£ÖÂÜÖÂÆπ„ÇíÊõ∏„ÅÑ„Å¶„ÅÑ„Åç„Åæ„Åô„ÄÇ

```python
from pyrubicon.objc.api import ObjCClass
from pyrubicon.objc.api import objc_method
from pyrubicon.objc.runtime import send_super

from rbedge.functions import NSStringFromClass
from rbedge import pdbr

UIViewController = ObjCClass('UIViewController')


class SFSymbolsViewController(UIViewController):

  @objc_method
  def viewDidLoad(self):
    send_super(__class__, self, 'viewDidLoad')

    # --- Navigation
    self.navigationItem.title = NSStringFromClass(__class__) if (
      title := self.navigationItem.title) is None else title

  @objc_method
  def didReceiveMemoryWarning(self):
    send_super(__class__, self, 'didReceiveMemoryWarning')
    print(f'\t{NSStringFromClass(__class__)}: didReceiveMemoryWarning')


if __name__ == '__main__':
  from rbedge.app import App
  from rbedge.enumerations import UIModalPresentationStyle

  main_vc = SFSymbolsViewController.new()
  _title = NSStringFromClass(SFSymbolsViewController)
  main_vc.navigationItem.title = _title

  presentation_style = UIModalPresentationStyle.fullScreen

  app = App(main_vc, presentation_style)
  app.present()
```

#### Á∂ôÊâø„Åó„Åü„ÅÆ„ÅßÊõ∏„ÅçÊèõ„Åà„Çã

Á∂ôÊâø„Åó„Å¶„ÇØ„É©„Çπ„ÇíÂÆöÁæ©„Åô„Çã„ÅÆ„Åß„ÄÅ`send_super` „Å®`objc_method` „Çí`import` „Å´ËøΩÂä†„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇ„Åæ„Åü„ÄÅView Life Cycle Á≥ª„ÅÆ„É°„ÇΩ„ÉÉ„Éâ„ÅØÂøÖË¶Å„Å™„É°„ÇΩ„ÉÉ„Éâ„ÅÆ„ÅøÊõ∏„ÅÑ„Å¶„ÅÑ„Åè„Åì„Å®„Å´„Åó„Åæ„Åô„ÄÇ

```diff python
from pyrubicon.objc.api import ObjCClass
+ from pyrubicon.objc.api import objc_method
+ from pyrubicon.objc.runtime import send_super

from rbedge.functions import NSStringFromClass
```

Ë°®Á§∫„Åï„Åõ„Çã„Ç§„É≥„Çπ„Çø„É≥„Çπ„Çí`UIViewController` „Åã„Çâ`SFSymbolsViewController` „Å´Â§âÊõ¥„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇ

```diff python
+ main_vc = SFSymbolsViewController.new()
- main_vc = UIViewController.new()
+ _title = NSStringFromClass(SFSymbolsViewController)
- _title = NSStringFromClass(UIViewController)
```

#### `navigationItem.title` „ÅÆÊåáÂÆö

`SFSymbolsViewController` „Ç§„É≥„Çπ„Çø„É≥„ÇπÁîüÊàêÂæå„Å´„ÄÅ„Çø„Ç§„Éà„É´„ÇíÊåáÂÆö„Åó„Å™„ÅÑÂ†¥Âêà„ÄÇ`viewDidLoad` ÂÆüË°åÊôÇ„ÅÆ`self.navigationItem.title` „ÅØ`None` „Å®„Å™„Çä„Åæ„Åô„ÄÇ
„Åù„Åì„Åß`if` ÂàÜÂ≤ê„Çí‰Ωø„ÅÑ„ÄÅ„Çø„Ç§„Éà„É´„ÅÆË°®Á§∫ÂàÜ„Åë„Åå„Åß„Åç„Åæ„Åô„ÄÇ
(‰ªäÂõû„ÅØ„ÄÅ„Ç§„É≥„Çπ„Çø„É≥„ÇπÁîüÊàêÂæå„ÅÆ„Çø„Ç§„Éà„É´„ÇÇÂêå„Åò`NSStringFromClass` „Çí‰Ωø„ÅÜ„ÅÆ„ÅßÂ§â„Çè„Çä„Å™„ÅÑ„Åß„Åô„Åå)

‰ªñ„ÅÆ„Çø„Ç§„Éà„É´„Å´„Åó„Åü„ÅÑÂ†¥Âêà„ÅØ„ÄÅ„Ç§„É≥„Çπ„Çø„É≥„ÇπÁîüÊàêÂæå„Å´ÊåáÂÆö„Åô„Çå„Å∞Ë°®Á§∫„Åï„Çå„Åæ„Åô„ÄÇ

```python
# --- Navigation
self.navigationItem.title = NSStringFromClass(__class__) if (
  title := self.navigationItem.title) is None else title
```

„Çø„Ç§„Éà„É´„Çí`NSStringFromClass` „ÅßÊåáÂÆö„Åó„ÅüÂ†¥Âêà„ÄÅÈÄ£Á∂ö„ÅßÂÆüË°å„Åô„Çã„Å®„ÄÅÂÆüË°åÂõûÊï∞„Åî„Å®„Å´„ÄÅÊï∞ÂÄ§„Åå„Ç§„É≥„ÇØ„É™„É°„É≥„Éà„Åï„Çå„Åæ„Åô„ÄÇ

- ÂàùÂõûÂÆüË°å
  ![image](https://github.com/user-attachments/assets/a22b12d3-1846-4c7d-95f7-2d9ad23b1712)

- 2 ÂõûÁõÆÂÆüË°å
  ![image](https://github.com/user-attachments/assets/2b9aab47-8ec8-4d42-8b23-fcf0fb148de7)

## ‰Ωï„ÇÇ„Åó„Å™„ÅÑ`UITableView` „ÅÆÂÆüË£Ö

SF Symbols „ÅÆ‰∏ÄË¶ß„ÇíË°®Á§∫„Åï„Åõ„Åü„ÅÑ„ÅÆ„Åß„ÄÅ[`UITableView`](https://developer.apple.com/documentation/uikit/uitableview?language=objc) „Çí‰Ωø„ÅÑ„Åæ„Åô„ÄÇ

@[card](https://developer.apple.com/documentation/uikit/uitableview?language=objc)

`UIViewController` „Åß„ÅØ„Å™„Åè„ÄÅ[`UITableViewController`](https://developer.apple.com/documentation/uikit/uitableviewcontroller?language=objc) „Çí‰Ωø„ÅÜÊñπÊ≥ï„ÇÇ„ÅÇ„Çä„Åæ„Åô„ÄÇ
„Åó„Åã„Åó„ÄÅ‰ªäÂõû„ÅØ`UIViewController` „ÅÆ`view` „Å´`UITableView` „Çí‰πó„Åõ„ÇãÊñπÈáù„Å´„Åó„Åæ„Åô„ÄÇ

@[card](https://developer.apple.com/documentation/uikit/uitableviewcontroller?language=objc)

Áúü„Çì‰∏≠„ÅÇ„Çã„Ç∑„Ç¢„É≥„Ç´„É©„Éº„ÅÆÁü©ÂΩ¢„Åå`UITableView` „Åß„Åô„ÄÇ
![image](https://github.com/user-attachments/assets/df361ef4-e8ec-4167-bbe6-d8d841abb578)

„Åì„ÅÆ„Ç≥„Éº„Éâ„Çà„Çä„ÄÅ`if __name__ == '__main__':` ‰ª•‰∏ã„ÅÆÂá¶ÁêÜ„ÅØÂêå„Åò„Å™„ÅÆ„ÅßÁúÅÁï•„Åó„Åæ„Åô„ÄÇ

```python
from pyrubicon.objc.api import ObjCClass
from pyrubicon.objc.api import objc_method
from pyrubicon.objc.runtime import send_super

from rbedge.enumerations import UITableViewStyle
from rbedge.functions import NSStringFromClass
from rbedge import pdbr

UIViewController = ObjCClass('UIViewController')
UITableView = ObjCClass('UITableView')

NSLayoutConstraint = ObjCClass('NSLayoutConstraint')
UIColor = ObjCClass('UIColor')


class SFSymbolsViewController(UIViewController):

  @objc_method
  def viewDidLoad(self):
    send_super(__class__, self, 'viewDidLoad')

    # --- Navigation
    self.navigationItem.title = NSStringFromClass(__class__) if (
      title := self.navigationItem.title) is None else title

    # --- Table
    sf_tableView = UITableView.alloc().initWithFrame_style_(
      self.view.bounds, UITableViewStyle.plain)
    sf_tableView.backgroundColor = UIColor.systemCyanColor()

    # --- Layout
    self.view.addSubview_(sf_tableView)
    sf_tableView.translatesAutoresizingMaskIntoConstraints = False
    areaLayoutGuide = self.view.safeAreaLayoutGuide

    NSLayoutConstraint.activateConstraints_([
      sf_tableView.centerXAnchor.constraintEqualToAnchor_(
        areaLayoutGuide.centerXAnchor),
      sf_tableView.centerYAnchor.constraintEqualToAnchor_(
        areaLayoutGuide.centerYAnchor),
      sf_tableView.widthAnchor.constraintEqualToAnchor_multiplier_(
        areaLayoutGuide.widthAnchor, 0.5),
      sf_tableView.heightAnchor.constraintEqualToAnchor_multiplier_(
        areaLayoutGuide.heightAnchor, 0.5),
    ])

  @objc_method
  def didReceiveMemoryWarning(self):
    send_super(__class__, self, 'didReceiveMemoryWarning')
    print(f'\t{NSStringFromClass(__class__)}: didReceiveMemoryWarning')
```

### `initWithFrame` „Å®`style`

`UITableView` „ÅÆ„Ç§„É≥„Çπ„Çø„É≥„Çπ„ÇíÁîüÊàê„Åô„Çã„É°„ÇΩ„ÉÉ„Éâ„Åß„Åô„ÄÇ
`style` ÊåáÂÆö„ÅØ„ÄÅ`rbedge.enumerations` ÂÜÖ„ÅßÂÆöÁæ©„Åó„Å¶„ÅÑ„Åæ„Åô(„Çµ„É≥„Éó„É´„É™„Éù„Ç∏„Éà„É™„Çí„Ç≥„Éî„Éº„Åó„Å¶„ÅÑ„ÇãÂ†¥Âêà)„ÄÇ

@[card](https://developer.apple.com/documentation/uikit/uitableview/init%28frame:style:%29?language=objc)

‰ªäÂõû„ÅØ„ÄÅ`plain` „ÇíÊåáÂÆö„Åó„Åæ„Åô„ÄÇ

```python
class UITableViewStyle:
  plain: int = 0
  grouped: int = 1
  insetGrouped: int = 2
```

@[card](https://developer.apple.com/documentation/uikit/uitableviewstyle?language=objc)
@[card](https://docs.rs/objc2-ui-kit/latest/src/objc2_ui_kit/generated/UITableView.rs.html#19)

„ÇÇ„Åó„ÄÅ`UITableView` „ÅÆ`init` „É°„ÇΩ„ÉÉ„Éâ„Åå„Çè„Åã„Çâ„Å™„ÅÑÂ†¥Âêà„ÄÇ

```python
pdbr.state(UITableView.alloc())
```

„Å®„ÄÅ`ObjCClass` „Å´`alloc()` „Åô„Çã„Å®„ÄÅË°®Á§∫„Åï„Çå„Åæ„Åô„ÄÇ„Åó„Åã„Åó„ÄÅ„ÇÇ„ÅÆ„Åô„Åî„ÅÑÈáè„ÅÆ„É°„ÇΩ„ÉÉ„Éâ„Åü„Å°„ÅåÂá∫„Å¶„Åè„Çã„ÅÆ„Åß„ÄÅ„Åæ„Åö„ÅØ„Éâ„Ç≠„É•„É°„É≥„Éà„ÇíÊé¢„Åô„ÅÆ„Çí„ÅäÂãß„ÇÅ„Åó„Åæ„Åô„ÄÇ

### `UIColor` „ÅßËâ≤‰ªò„Åë

‰Ωï„ÇÇ„Åó„Å™„ÅÑ`UITableView` „Å™„ÅÆ„Åß„ÄÅ‰ªä„ÅÆ„Å®„Åì„ÇçËÉåÈù¢„Å´Ëâ≤„Çí„Å§„Åë„Å¶`addSubview_` „Åß„Åç„Å¶„ÅÑ„Çã„ÅãÁ¢∫Ë™ç„Åó„Åæ„Åô„ÄÇ
Ëâ≤„ÅØ„Å©„Çå„Åß„ÇÇ„ÅÑ„ÅÑ„ÅÆ„Åß„ÄÅÂÖà„Åª„Å©„ÅÆ`pdbr.state`„Åß„ÄÅ‰Ωø„Åà„ÇãËâ≤„ÇíË¶ã„Å¶„Åø„Åæ„Åô„ÄÇ

```python
pdbr.state(UIColor)
```

```
...
  "systemBackgroundColor",
  "systemBlackColor",
  "systemBlueColor",
  "systemBrownColor",
  "systemCyanColor",
  "systemDarkBlueColor",
  "systemDarkExtraLightGrayColor",
  "systemDarkExtraLightGrayTintColor",
  "systemDarkGrayColor",
  "systemDarkGrayTintColor",
...
```

‰∏ÄÈÉ®„ÇíÊäú„ÅçÂá∫„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÅ`system„Äú` „ÅÇ„Åü„Çä„ÅØ‰Ωø„ÅÑÂãùÊâã„Åå„ÅÑ„ÅÑ„Å®ÊÄù„ÅÑ„Åæ„Åô„ÄÇ

#### Â∞ë„ÅóËÑ±Á∑ö

„Ç∑„Ç¢„É≥„ÅÆËâ≤„Çí`UIColor.systemCyanColor()` „Å®Âëº„Å≥Âá∫„Åó„Åæ„Åó„Åü„ÄÇ‰ªñ„Å´`UIColor.cyanColor` „Åß„ÇÇÂëº„Å≥Âá∫„Åõ„Åæ„Åô„ÄÇ

- [`systemCyanColor` | Apple Developer Documentation](https://developer.apple.com/documentation/uikit/uicolor/systemcyan?language=objc)
@[crad](https://developer.apple.com/documentation/uikit/uicolor/systemcyan?language=objc)

- [`cyanColor` | Apple Developer Documentation](https://developer.apple.com/documentation/uikit/uicolor/cyan?language=objc)
@[card](https://developer.apple.com/documentation/uikit/uicolor/cyan?language=objc)


„Éâ„Ç≠„É•„É°„É≥„Éà„Åß„ÅØ„ÄÅ`Type Property` „ÅßÈÅï„ÅÑ„ÅØ„Å™„ÅÑ„ÅÆ„Åß„Åô„ÄÇ
„É°„ÇΩ„ÉÉ„Éâ„Å™„ÅÆ„Åã„ÄÅ„Éó„É≠„Éë„ÉÜ„Ç£„Å™„ÅÆ„Åã„ÄÇ`system` „ÅÆÊñπ„Åå„É°„ÇΩ„ÉÉ„ÉâÂëº„Å≥Âá∫„Åó„Å®ËÄÉ„Åà„Çâ„Çå„Åæ„Åô„ÄÇ
„Åó„Åã„Åó„ÄÅÁßÅ„ÅØÊØéÂõûÂøò„Çå„Çã„ÅÆ„Åß„ÄÅ„Å®„Çä„ÅÇ„Åà„ÅöÂÆüË°å„Åó„Å¶„Åø„Å¶„ÄÅ„Ç®„É©„Éº„ÅåÂá∫„Çã„Åã„Å©„ÅÜ„Åã„ÅßÂà§Êñ≠„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇ


„Å°„Å™„Åø„Å´„ÄÅRubicon-ObjC „Å®Âêå„Åò‰ΩúËÄÖ„Åå [toga](https://github.com/beeware/toga) „Å®„ÅÑ„ÅÜ„ÇÇ„ÅÆ„Çí‰Ωú„Å£„Å¶„ÅÑ„Åæ„Åô„ÄÇ
toga „ÅÆ‰∏≠„Åß`UIColor` „ÅØ„ÄÅ`declare_class_property` „Çí‰Ωø„ÅÑ„Éó„É≠„Éë„ÉÜ„Ç£Âëº„Å≥Âá∫„Åó„Åå„Åß„Åç„Çã„Çà„ÅÜ„Å´Ë®≠ÂÆö„Åó„Å¶„ÅÑ„ÇãÊ®°Êßò„Åß„Åô„ÄÇ


@[card](https://github.com/beeware/toga/blob/74cb4c12b37784bb179d910524746fcf80ccaf79/iOS/src/toga_iOS/libs/uikit.py#L196)

@[card](https://rubicon-objc.readthedocs.io/en/stable/reference/rubicon-objc-api.html#rubicon.objc.api.ObjCClass.declare_class_property)



### View „ÅÆAuto Layout

View „ÅÆ„Çµ„Ç§„Ç∫„ÇÑ‰ΩçÁΩÆ„ÅØÊôÆÊÆµ„ÄÅStoryboard „ÅßË®≠ÂÆö„Çí„Åó„Åæ„Åô„ÄÇ
a-Shell „ÅÆÂ†¥Âêà„ÅØ„ÄÅStoryboard „Çí‰Ωø„Çè„Å™„ÅÑ„ÅÆ„Åß„ÄÅ„Ç≥„Éº„Éâ„ÅßË®≠ÂÆö„Åó„Åæ„Åô„ÄÇ

‰ªäÂõû„ÅØAuto Layout „Å¶„ÇôË®≠ÂÆö„Åó„Åæ„Åô„ÄÇ
[`NSLayoutConstraint`](https://developer.apple.com/documentation/uikit/nslayoutconstraint?language=objc) „Å®„ÄÅ[`NSLayoutAnchor`](https://developer.apple.com/documentation/uikit/nslayoutanchor?language=objc) „ÇíÁµÑ„ÅøÂêà„Çè„Åõ„Çã„Åì„Å®„ÅßÁ∞°ÊΩî„Å´Ë®òËø∞„Åô„Çã„Åì„Å®„Åå„Åß„Åç„Åæ„Åô„ÄÇ

@[card](https://techblog.recochoku.jp/7727)


Auto Layout „Åó„Åü„ÅÑView „ÅÆ`translatesAutoresizingMaskIntoConstraints` „Çí`False` „Å´„Åó„Åæ„Åô„ÄÇ
`False` „Å´„Åó„Å™„ÅÑ„Å®„ÄÅAuto Layout „ÅÆË®≠ÂÆö„ÅØ„Åß„Åç„Åæ„Åõ„Çì„ÄÇ

```python
sf_tableView.translatesAutoresizingMaskIntoConstraints = False
```


Âü∫Êú¨ÁöÑ„Å´„ÄÅÊï∞ÂÄ§Ê±∫„ÇÅÊâì„Å°„ÅØÊ∞óÊåÅ„Å°ÊÇ™„ÅÑ„ÅÆ„Åß„ÄÅ`self.view` (`SFSymbolsViewController` „ÅÆView) „ÇíËµ∑ÁÇπ„Å´„É¨„Ç§„Ç¢„Ç¶„Éà„ÇíÁµÑ„Åø„Åæ„Åô„ÄÇ
„Åæ„Åü„ÄÅ‰ªäÂæå`sf_tableView` „ÇíÂÖ®ÁîªÈù¢„Å´Ë°®Á§∫„Åô„Çã„Åì„Å®„ÇíË¶ãÊçÆ„Åà„ÄÅ`self.view` „ÅÆsafe area „ÇíÂèÇÁÖß„ÅÆÂÄ§„Å®„Åó„Åæ„Åô„ÄÇ

@[card](https://developer.apple.com/documentation/uikit/positioning-content-relative-to-the-safe-area?language=objc)


XËª∏YËª∏„ÄÅÂπÖ„Å®È´ò„Åï„Çí`sf_tableView` „Å´ÊåáÂÆö„Åó„Åæ„Åô„ÄÇ

```python
areaLayoutGuide = self.view.safeAreaLayoutGuide

NSLayoutConstraint.activateConstraints_([
  sf_tableView.centerXAnchor.constraintEqualToAnchor_(
    areaLayoutGuide.centerXAnchor),
  sf_tableView.centerYAnchor.constraintEqualToAnchor_(
    areaLayoutGuide.centerYAnchor),
  sf_tableView.widthAnchor.constraintEqualToAnchor_multiplier_(
    areaLayoutGuide.widthAnchor, 0.5),
  sf_tableView.heightAnchor.constraintEqualToAnchor_multiplier_(
    areaLayoutGuide.heightAnchor, 0.5),
])
```

XËª∏YËª∏„ÅØ„ÄÅ„Åù„Çå„Åû„Çå„ÅÆ‰∏≠ÂøÉÁÇπ„ÄÇÂπÖ„Å®È´ò„Åï„ÅØÂçäÂàÜ„ÅÆÂÄ§„ÅßË®≠ÂÆö„Åó„Åæ„Åó„Åü„ÄÇ

## `UITableView` „ÅÆË¶ÅÁ¥†„ÇíÂá∫„Åô

ÈÖçÂàó„ÅÆË¶ÅÁ¥†„Çí`sf_tableView` „Å´Ë°®Á§∫„Åï„Åõ„Åæ„Åô„ÄÇÊôÆÊÆµStoryboard „ÅßÂÆüË£Ö„Åó„Å¶„ÅÑ„Çã„Å®ÁôªÂ†¥„Åó„Å™„ÅÑ„É°„ÇΩ„ÉÉ„Éâ„ÅåÂá∫„Å¶„Åç„Åæ„Åô„ÄÇ


![image](https://github.com/user-attachments/assets/f5cb7c8c-e19e-4eda-bc59-094160803dff)


```python
from pyrubicon.objc.api import ObjCClass
from pyrubicon.objc.api import objc_method, objc_property
from pyrubicon.objc.runtime import send_super

from rbedge.enumerations import UITableViewStyle
from rbedge.functions import NSStringFromClass
from rbedge import pdbr

UIViewController = ObjCClass('UIViewController')
UITableView = ObjCClass('UITableView')
UITableViewCell = ObjCClass('UITableViewCell')

NSLayoutConstraint = ObjCClass('NSLayoutConstraint')
UIColor = ObjCClass('UIColor')


class SFSymbolsViewController(UIViewController):

  cell_identifier: str = objc_property()
  all_items: list = objc_property()

  @objc_method
  def loadView(self):
    send_super(__class__, self, 'loadView')
    self.cell_identifier = 'customCell'
    self.all_items = [
      '„Åª„Åë„Çô',
      '„Åµ„Åã„Çô',
      '„Å≤„Çö„Çà',
    ]

  @objc_method
  def viewDidLoad(self):
    send_super(__class__, self, 'viewDidLoad')

    # --- Navigation
    self.navigationItem.title = NSStringFromClass(__class__) if (
      title := self.navigationItem.title) is None else title

    # --- Table
    sf_tableView = UITableView.alloc().initWithFrame_style_(
      self.view.bounds, UITableViewStyle.plain)
    sf_tableView.registerClass_forCellReuseIdentifier_(UITableViewCell,
                                                       self.cell_identifier)
    sf_tableView.dataSource = self

    sf_tableView.backgroundColor = UIColor.systemCyanColor()

    # --- Layout
    self.view.addSubview_(sf_tableView)
    sf_tableView.translatesAutoresizingMaskIntoConstraints = False
    areaLayoutGuide = self.view.safeAreaLayoutGuide

    NSLayoutConstraint.activateConstraints_([
      sf_tableView.centerXAnchor.constraintEqualToAnchor_(
        areaLayoutGuide.centerXAnchor),
      sf_tableView.centerYAnchor.constraintEqualToAnchor_(
        areaLayoutGuide.centerYAnchor),
      sf_tableView.widthAnchor.constraintEqualToAnchor_multiplier_(
        areaLayoutGuide.widthAnchor, 0.5),
      sf_tableView.heightAnchor.constraintEqualToAnchor_multiplier_(
        areaLayoutGuide.heightAnchor, 0.5),
    ])

  @objc_method
  def didReceiveMemoryWarning(self):
    send_super(__class__, self, 'didReceiveMemoryWarning')
    print(f'\t{NSStringFromClass(__class__)}: didReceiveMemoryWarning')

  # --- UITableViewDataSource
  @objc_method
  def tableView_numberOfRowsInSection_(self, tableView, section: int) -> int:
    return len(self.all_items)

  @objc_method
  def tableView_cellForRowAtIndexPath_(self, tableView, indexPath):
    cell = tableView.dequeueReusableCellWithIdentifier_forIndexPath_(
      self.cell_identifier, indexPath)
    content = cell.defaultContentConfiguration()
    content.text = self.all_items[indexPath.row]
    cell.contentConfiguration = content
    return cell
```

:::message
„ÉÜ„Éº„Éñ„É´„ÅÆ„Çπ„ÇØ„É≠„Éº„É´„Ç¢„Éã„É°„Éº„Ç∑„Éß„É≥‰∏≠„Å´„ÄÅclose „Éú„Çø„É≥„ÅßÈñâ„Åò„Çã„Å®a-Shell „Åå„ÇØ„É©„ÉÉ„Ç∑„É•„Åó„Åæ„Åô„ÄÇ
„Ç¢„Éã„É°„Éº„Ç∑„Éß„É≥„ÇíÁµÇ„Åà„ÄÅ‰∏ÄÂëºÂê∏ÁΩÆ„ÅÑ„Å¶„Åã„ÇâÈñâ„Åò„Çã„Å®Ê≠£Â∏∏„Å´Âãï‰Ωú„Åó„Åæ„Åô„ÄÇ
ÔºàÂõûÈÅøÁ≠ñÊ§úË®é‰∏≠Ôºâ
:::

### `objc_property`

Class „Å´Áã¨Ëá™„ÅÆ„Éó„É≠„Éë„ÉÜ„Ç£„ÇíÊåÅ„Åü„Åõ„ÇãÂ†¥Âêà„ÄÅ`objc_property` „ÅßÂÆ£Ë®Ä„Çí„Åó„Åæ„Åô„ÄÇ
`objc_property` ÂÆ£Ë®Ä„Åó„Å™„ÅÑ„Å®„ÄÅView „ÇíÈñâ„Åò„ÅüÈöõ„ÅÆ„É°„É¢„É™Ëß£Êîæ„Åå„ÅÜ„Åæ„ÅèË°å„Çè„Çå„Åæ„Åõ„Çì„ÄÇa-Shell „Åå„ÇØ„É©„ÉÉ„Ç∑„É•„Åó„Åæ„Åô„ÄÇ

Python„ÇØ„É©„Çπ„ÅÆ`self` „ÅÆ„Çà„ÅÜ„Å´Êâ±„Åà„Åæ„Åô„Åã„Çô„ÄÅ`objc_property` „Çí‰Ωø„ÅÜ„Åì„Å®„Å´„Çà„ÇäË§áÈõë„Å´„Å™„Çã„ÅÆ„Å¶„Çô‰ΩøÁî®„Åó„Å™„ÅÑ„Çà„ÅÜ„Å´„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇ

Ë§áÈõë„Åï„ÇíÈÅø„Åë„Çã„Åü„ÇÅ:
- „Ç∑„É≥„Éó„É´„Å™Âûã
- „É°„ÇΩ„ÉÉ„ÉâÂÜÖ„ÅßÂá¶ÁêÜ„Åß„Åç„Çã„Çà„ÅÜÂ∑•Â§´

„Å®„ÅÑ„Å£„Åü„ÄÅÊñπÈáù„ÅßÂÆüË£Ö„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇ
`sf_tableView` „ÇÇ`objc_property` ÂÆ£Ë®Ä„Åó„Åü„ÅÑ„Å®„Åì„Çç„Åß„Åô„Åå„ÄÅË§áÈõë„ÅïÂõûÈÅø„ÅÆ„Åü„ÇÅ`viewDidLoad` „ÅÆËÇ•Â§ßÂåñ„Å®„Éà„É¨„Éº„Éâ„Ç™„Éï„Å®„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇ„ÄÇ


```python
from pyrubicon.objc.api import objc_method, objc_property

class SFSymbolsViewController(UIViewController):

  cell_identifier: str = objc_property()
  all_items: list = objc_property()
```

‰ªäÂõû„ÅØ„ÄÅ`UITableViewCell` „ÅÆË≠òÂà•Â≠ê(`cell_identifier`)„Å®„ÄÅÈÖçÂàóË¶ÅÁ¥†(`all_items`) „ÅßÂÆ£Ë®Ä„Åó„Åæ„Åô„ÄÇ
Âûã„ÅØ„ÄÅÂøÖÈ†à„Åß„ÅØ„ÅÇ„Çä„Åæ„Åõ„Çì„ÄÇËá™ÂàÜ„ÅÆÂÇôÂøò„Å®„Åó„Å¶ÂÖ•„Çå„Å¶„ÅÑ„Åæ„Åô„ÄÇ


@[card](https://rubicon-objc.readthedocs.io/en/stable/how-to/memory-management.html#reference-cycles-in-objective-c)



### „Çª„É´„ÇíÁôªÈå≤

`UITableView` „ÅØ„ÄÅ1„Å§1„Å§„ÅÆ`UITableViewCell` „Çí„Åæ„Å®„ÇÅ„Å¶Ë°®Á§∫„Åó„Åæ„Åô„ÄÇ
„Åù„ÅÆ1„Å§„ÅÆ`UITableViewCell` „ÅØ„ÄÅ‰∫ãÂâç„Å´Ë≠òÂà•Â≠ê„ÇíÂÆöÁæ©„Åó„ÄÅ`UITableView` „Å∏ÁôªÈå≤„Åô„ÇãÂøÖË¶Å„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ



```python
class SFSymbolsViewController(UIViewController):

  cell_identifier: str = objc_property()

  @objc_method
  def loadView(self):
    send_super(__class__, self, 'loadView')
    self.cell_identifier = 'customCell'
    
  @objc_method
  def viewDidLoad(self):
    send_super(__class__, self, 'viewDidLoad')
    # ‰∏≠Áï•
    # --- Table
    sf_tableView = UITableView.alloc().initWithFrame_style_(
      self.view.bounds, UITableViewStyle.plain)
    sf_tableView.registerClass_forCellReuseIdentifier_(UITableViewCell,
                                                       self.cell_identifier)
```

`loadView` „É°„ÇΩ„ÉÉ„ÉâÊôÇ„Å´„ÄÅ`customCell` „Å®„ÅÑ„ÅÜÊñáÂ≠óÂàó„ÇíÂÆöÁæ©„ÄÇ
`viewDidLoad` „É°„ÇΩ„ÉÉ„Éâ„Åß„ÄÅ`customCell` „ÇíË≠òÂà•Â≠ê„Å®„Åó„Å¶„ÅÆÁôªÈå≤„Çí`UITableViewCell` „Çí‰Ωø„ÅÜÂÆ£Ë®Ä„Çí„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇ

```python
sf_tableView.registerClass_forCellReuseIdentifier_(
  UITableViewCell, self.cell_identifier)
```

### `dataSource` „Å®„ÅÆÈÄ£Êê∫


„Çª„É´„Çí`UITableView` „Å´ÂèçÊò†„Åô„Çã„Åü„ÇÅ„ÄÅ‰ª•‰∏ã2ÁÇπ„ÅåÂøÖË¶Å„Åß„Åô:

- ÂØæÂøú„Åô„Çã„É°„ÇΩ„ÉÉ„Éâ„ÅÆÂÆüË£Ö
  - Protocol [`UITableViewDataSource`](https://developer.apple.com/documentation/uikit/uitableviewdatasource?language=objc)
- `sf_tableView` „ÅÆ`dataSource` „Å∏ÈÄöÁü•



‰ªäÂõû„ÄÅÊúÄÂ∞èÈôê„ÅÆ„É°„ÇΩ„ÉÉ„Éâ„ÅßÂÆüË£Ö„Åó„Åæ„Åô„ÄÇ„ÄåÂøÖÈ†à„Äç„ÅÆ„É°„ÇΩ„ÉÉ„Éâ„Åß„Åô:

- [`tableView:numberOfRowsInSection:` | Apple Developer Documentation](https://developer.apple.com/documentation/uikit/uitableviewdatasource/tableview%28_:numberofrowsinsection:%29?language=objc)
  - Ë°®Á§∫„Åï„Åõ„Çã„Çª„É´„ÅÆÁ∑èÊï∞„ÅÆÊèêÁ§∫
    - (Ê≠£Á¢∫„Å´„ÅØ„ÄÅsection „ÅÆrow „ÅÆÊï∞„Åß„Åô„Åå„ÄÅË©≥Á¥∞„ÅØ„Éâ„Ç≠„É•„É°„É≥„ÉàÂèÇÁÖß)
- [`tableView:cellForRowAtIndexPath:` | Apple Developer Documentation](https://developer.apple.com/documentation/uikit/uitableviewdatasource/tableview%28_:cellforrowat:%29?language=objc)
  - ÂêÑ„Çª„É´„Åî„Å®„ÅÆË®≠ÂÆö

```python
class SFSymbolsViewController(UIViewController):

  all_items: list = objc_property()

  @objc_method
  def loadView(self):
    send_super(__class__, self, 'loadView')
    self.all_items = [
      '„Åª„Åë„Çô',
      '„Åµ„Åã„Çô',
      '„Å≤„Çö„Çà',
    ]

  @objc_method
  def viewDidLoad(self):
    send_super(__class__, self, 'viewDidLoad')
    # ‰∏≠Áï•
    
    sf_tableView.dataSource = self

  # --- UITableViewDataSource
  @objc_method
  def tableView_numberOfRowsInSection_(self, tableView, section: int) -> int:
    return len(self.all_items)

  @objc_method
  def tableView_cellForRowAtIndexPath_(self, tableView, indexPath):
    cell = tableView.dequeueReusableCellWithIdentifier_forIndexPath_(
      self.cell_identifier, indexPath)
    content = cell.defaultContentConfiguration()
    content.text = self.all_items[indexPath.row]
    cell.contentConfiguration = content
    return cell
```


#### `tableView_numberOfRowsInSection_` „É°„ÇΩ„ÉÉ„Éâ

Ë°®Á§∫„Åï„Åõ„Çã„Çª„É´„ÅÆÁ∑èÊï∞„ÇíÊï¥Êï∞ÂÄ§„ÅßËøî„Åó„Åæ„Åô„ÄÇ

‰∏ÄÈÉ®„ÅÆÂºïÊï∞„ÇÑËøî„ÇäÂÄ§„Å´Âûã„Éí„É≥„Éà„Çí‰ªò„Åë„ÇãÂøÖË¶Å„Åå„ÅÇ„Çä„ÄÅRubicon-ObjC „ÅÆ„Éâ„Ç≠„É•„É°„É≥„Éà[Type annotations](https://rubicon-objc.readthedocs.io/en/stable/how-to/type-mapping.html#type-annotations) „Å´Ë™¨Êòé„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ
Rubicon-ObjC „ÅÆ„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„Å´„ÅØ„ÄÅÂûã„Éí„É≥„Éà„ÅØ‰∏çË¶Å„Åß„Åô„ÄÇ

@[card](https://rubicon-objc.readthedocs.io/en/stable/how-to/type-mapping.html#type-annotations)


```python
@objc_method
def tableView_numberOfRowsInSection_(self, tableView, section: int) -> int:
  return len(self.all_items)
```

ÂºïÊï∞`section` „ÅØ„ÄÅÊï¥Êï∞`int` „ÄÇËøî„ÇäÂÄ§„ÇÇPython „ÅÆÊï¥Êï∞Âûã„Å™„ÅÆ„Åß`int` „Å®ÊåáÂÆö„Åó„Åæ„Åô„ÄÇ


@[card](https://developer.apple.com/documentation/uikit/uitableviewdatasource/tableview%28_:numberofrowsinsection:%29?language=objc)

#### `tableView_cellForRowAtIndexPath_` „É°„ÇΩ„ÉÉ„Éâ

ÂêÑ„Çª„É´„Åî„Å®„ÅÆË¶ÅÁ¥†„ÇíË®≠ÂÆö„Åó„Å¶Ëøî„Åó„Åæ„Åô„ÄÇ
Ëøî„ÇäÂÄ§„ÇÇ„ÄÅRubicon-ObjC „ÅÆ„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„Å´„Å™„Çã„ÅÆ„Åß„ÄÅÂûã„Éí„É≥„Éà„ÅØ‰∏çË¶Å„Åß„Åô„ÄÇ
Âûã„Éí„É≥„Éà„ÇíÂÖ•„Çå„Çã„ÅÆ„Åß„ÅÇ„Çå„Å∞„ÄÅ`ObjCInstance` „ÅÇ„Åü„Çä„Åß„Åó„Çá„ÅÜ„Åã„ÄÇ„Ç®„É©„Éº„ÅåÂá∫„Å™„ÅÑ„ÅÆ„Åß„ÄÅË©≥„Åó„Åè„ÅØËøΩ„Å£„Å¶„Åæ„Åõ„Çì„ÄÇ


```python
@objc_method
def tableView_cellForRowAtIndexPath_(self, tableView, indexPath):
  cell = tableView.dequeueReusableCellWithIdentifier_forIndexPath_(
    self.cell_identifier, indexPath)
  content = cell.defaultContentConfiguration()
  content.text = self.all_items[indexPath.row]
  cell.contentConfiguration = content
  return cell
```

`dequeueReusableCellWithIdentifier` „Åß„ÄÅË≠òÂà•Â≠ê„Çª„É´„ÇíÂëº„Å≥Âá∫„Åó„Åæ„Åô„ÄÇ
`indexPath`([`NSIndexPath`](https://developer.apple.com/documentation/foundation/nsindexpath?language=objc)) „ÅÆ„ÄÅ„Ç§„É≥„Éá„ÉÉ„ÇØ„ÇπÊÉÖÂ†±„Åã„Çâ„ÄÅÈÖçÂàóË¶ÅÁ¥†„ÇíÂèñ„ÇäÂá∫„Åó„Åæ„Åô„ÄÇ

‰ªäÂõû„ÅØ„ÄÅ„Çª„É´„Å´ÊñáÂ≠óÂàó„ÇíÂèçÊò†„Åô„ÇãÁ∞°Âçò„Å™ÂÆüË£Ö„Åß„Åô„ÄÇ


@[card](https://developer.apple.com/documentation/uikit/uitableviewdatasource/tableview%28_:cellforrowat:%29?language=objc)
@[card](https://developer.apple.com/documentation/uikit/uitableviewcell/defaultcontentconfiguration?language=objc)

#### `sf_tableView.dataSource = self`

Class `SFSymbolsViewController` „Å´`UITableViewDataSource` Protocol Ë¶ÅÁ¥†„ÅÆ„É°„ÇΩ„ÉÉ„Éâ„ÇíËøΩÂä†„Åó„Åæ„Åó„Åü„ÄÇ
„Åù„ÅÆ„É°„ÇΩ„ÉÉ„Éâ„Çí`sf_tableView.dataSource` „Å®„ÄÅ„Åô„Çã„Åü„ÇÅ„Å´`= self` „Å®„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇ
`= self` „Å†„Å®ÂÖ®„Å¶„ÅÆ„É°„ÇΩ„ÉÉ„Éâ„Å®„Ç§„É°„Éº„Ç∏„Åó„Å¶„Åó„Åæ„ÅÑ„Åæ„Åô„Åå„ÄÅÂØæÂøú„Åô„Çã„É°„ÇΩ„ÉÉ„Éâ„ÅÆ„ÅøË™çË≠ò„Åô„Çã„Çà„ÅÜ„Åß„Åô„ÄÇ

„Åì„Çå„Å´„Çà„Çä„ÄÅ`sf_tableView` „Å´„Çª„É´„ÅÆË¶ÅÁ¥†„ÅåÂèçÊò†„Åï„Çå„Åæ„Åô„ÄÇ


## SF Symbols ÊÉÖÂ†±„ÇíÂèñÂæó„Åô„Çã

View „ÅÆË°®Á§∫„Å®„Åó„Å¶„ÄÅÈÖçÂàóË¶ÅÁ¥†„Çí`UITableView` „Å´ÂèçÊò†„Åå„Åß„Åç„Åæ„Åó„Åü„ÄÇÈÖçÂàóË¶ÅÁ¥†„ÅØ„ÄÅPython „ÅÆ`list` ÂΩ¢Âºè„ÅßÂïèÈ°å„Å™„Åï„Åù„ÅÜ„Åß„Åô„ÄÇ
„Åù„Åì„Åß„Åì„Åì„Åã„Çâ„ÅØ„ÄÅ‰ªÆ„ÅÆÈÖçÂàóË¶ÅÁ¥†„Çí„ÄÅÂÆüÈöõ„Å´‰Ωø„ÅÜSF Symbols ÊÉÖÂ†±„Å´Â§â„Åà„Å¶„ÅÑ„Åç„Åæ„Åô„ÄÇ
View „ÅÆË°®Á§∫„ÅØ‰∏ÄÊó¶„Åä‰ºë„Åø„Åß„Åô„ÄÇ


ÂÆü„ÅØ„ÄÅSF Symbols „ÇíÂæó„Çã„ÅÆ„ÅØÁ∞°Âçò„Åß„Åô„ÄÇ„Å©„Åì„Åã„ÅÆ„Çµ„Éº„Éê„Éº„Å´„Ç¢„ÇØ„Çª„Çπ„Åó„Åü„Çä„ÄÅ„Éè„Éº„Éâ„Ç≥„Éº„Éâ„ÅßÂÜôÁµå„Åô„ÇãÂøÖË¶Å„ÅØ„ÅÇ„Çä„Åæ„Åõ„Çì„ÄÇ

„ÅäÊâãÊåÅ„Å°„ÅÆiPhone „ÇÑiPad „ÅÆ‰∏≠„Å´„ÅÇ„Çä„Åæ„Åô„ÄÇ

```python
from pathlib import Path
import plistlib


def get_order_list():
  CoreGlyphs_path = '/System/Library/CoreServices/CoreGlyphs.bundle/'

  symbol_order_path = 'symbol_order.plist'
  symbol_order_bundle = Path(CoreGlyphs_path, symbol_order_path)

  order_list = plistlib.loads(symbol_order_bundle.read_bytes())
  return order_list
```


Ê®ôÊ∫ñ„É©„Ç§„Éñ„É©„É™`pathlib` „Åß„ÄÅÁ´ØÊú´ÂÜÖÈÉ®„ÅÆ„Éá„Ç£„É¨„ÇØ„Éà„É™„Éá„Éº„Çø„Å´„Ç¢„ÇØ„Çª„Çπ„Åó„Åæ„Åô„ÄÇ
`CoreGlyphs.bundle/` ÂÜÖ„Å´SF Symbols ÊÉÖÂ†±„ÅÆ`.plist` „Éï„Ç°„Ç§„É´„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ
‰ªäÂõû„Å†„Å®„ÄÅ`symbol_order.plist` „ÅÆË¶ÅÁ¥†„ÅåÊâ±„ÅÑ„ÇÑ„Åô„Åù„ÅÜ„Å™„ÅÆ„Åß„ÄÅ„Åì„Å°„Çâ„Åã„ÇâÊÉÖÂ†±„ÇíÂèñÂæó„Åó„Åæ„Åô„ÄÇ
ÂèñÂæó„Å´„ÅØ„ÄÅÊ®ôÊ∫ñ„É©„Ç§„Éñ„É©„É™„ÅÆ`plistlib` „Çí‰Ωø„ÅÑ„Åæ„Åô„ÄÇ


„Å™„Åä„ÄÅ‰ªñ„ÅÆ`.plist` „Éï„Ç°„Ç§„É´„ÅØ„ÄÅdump „Åó„Åü„ÇÇ„ÅÆ„Çí‰ª•‰∏ã„ÅÆ„É™„Éù„Ç∏„Éà„É™„Å´„Åæ„Å®„ÇÅ„Å¶„ÅÑ„Åæ„Åô„ÄÇ

@[card](https://github.com/pome-ta/pysta-icons/tree/master/sandbox/dumps)


`plistlib` „Å™„Çì„Å¶Âàù„ÇÅ„Å¶„Å§„Åã„ÅÑ„Åæ„Åó„Åü„ÄÇ
@[card](https://docs.python.org/ja/3.11/library/plistlib.html)



### `symbol_order.plist` „ÅÆ‰∏≠Ë∫´

```python
print(get_order_list())
```

„Å®„Åô„Çå„Å∞„ÄÅÁ¢∫Ë™ç„Åß„Åç„Åæ„Åô„ÄÇ„Åó„Åã„Åó„ÄÅ7000‰ª•‰∏ä„ÅÇ„Çã„ÅÆ„Åßdump „Éá„Éº„Çø„ÇíÁ¢∫Ë™ç„Åó„Å™„Åå„ÇâÈÄ≤„ÇÅ„Åæ„Åô„ÄÇ


@[card](https://github.com/pome-ta/pysta-icons/blob/master/sandbox/dumps/symbol_order.plist.json)


‰ª•‰∏ã„ÅÆ„Çà„ÅÜ„Å´ÊñáÂ≠óÂàó„ÅÆÈÖçÂàó„ÅåÁ¢∫Ë™ç„Åß„Åç„Åæ„Åô:

```
[
  "square.and.arrow.up",
  "square.and.arrow.up.fill",
  "square.and.arrow.up.circle",
  "square.and.arrow.up.circle.fill",
  "square.and.arrow.up.badge.clock",
  "square.and.arrow.up.badge.clock.fill",
  "square.and.arrow.up.trianglebadge.exclamationmark",
  "square.and.arrow.up.trianglebadge.exclamationmark.fill",
  "square.and.arrow.down",
  "square.and.arrow.down.fill",
  ...
  "48.square.hi",
  "48.square.fill.hi",
  "49.circle.hi",
  "49.circle.fill.hi",
  "49.square.hi",
  "49.square.fill.hi",
  "50.circle.hi",
  "50.circle.fill.hi",
  "50.square.hi",
  "50.square.fill.hi",
  "apple.logo"
]
```

ÊñáÂ≠óÂàó„Åå„ÄÅ„Åù„Çå„Åû„ÇåSF Symbols „ÅÆÂêçÂâç„Å®„Å™„Çä„Åæ„Åô„ÄÇ


## ÂêÑ„Çª„É´„Å∏SF Symbols „ÇíË°®Á§∫

SF Symbols „ÅÆÊÉÖÂ†±„ÇíÈñ¢Êï∞`get_order_list` „Å´„Çà„ÇäÂèñÂæó„Åß„Åç„Çã„Çà„ÅÜ„Å´„Å™„Çä„Åæ„Åó„Åü„ÄÇ
Ê¨°„ÅØ„ÄÅÂêÑ„Çª„É´„Å´SF Symbols „ÅÆ„Ç¢„Ç§„Ç≥„É≥„Å®ÂêçÂâç„ÇíÂèçÊò†„Åï„Åõ„Åæ„Åô„ÄÇ
ÂêÑSF Symbols „ÅÆÂêçÂâç„Åå„Çè„Åã„Çå„Å∞„ÄÅ`UIImage` „Çà„ÇäÁ∞°Âçò„Å´ÂèñÂæó„Åß„Åç„Åæ„Åô„ÄÇ


![image](https://github.com/user-attachments/assets/c3aa117a-de13-4fe6-b7ce-d65f6c4e862e)


```python
from pathlib import Path
import plistlib

from pyrubicon.objc.api import ObjCClass
from pyrubicon.objc.api import objc_method, objc_property
from pyrubicon.objc.runtime import send_super

from rbedge.enumerations import UITableViewStyle
from rbedge.functions import NSStringFromClass
from rbedge import pdbr

UIViewController = ObjCClass('UIViewController')
UITableView = ObjCClass('UITableView')
UITableViewCell = ObjCClass('UITableViewCell')
UIImage = ObjCClass('UIImage')

NSLayoutConstraint = ObjCClass('NSLayoutConstraint')
UIColor = ObjCClass('UIColor')


def get_order_list():
  CoreGlyphs_path = '/System/Library/CoreServices/CoreGlyphs.bundle/'

  symbol_order_path = 'symbol_order.plist'
  symbol_order_bundle = Path(CoreGlyphs_path, symbol_order_path)

  order_list = plistlib.loads(symbol_order_bundle.read_bytes())
  return order_list


class SFSymbolsViewController(UIViewController):

  cell_identifier: str = objc_property()
  all_items: list = objc_property()

  @objc_method
  def loadView(self):
    send_super(__class__, self, 'loadView')
    self.cell_identifier = 'customCell'
    self.all_items = get_order_list()

  @objc_method
  def viewDidLoad(self):
    send_super(__class__, self, 'viewDidLoad')

    # --- Navigation
    self.navigationItem.title = NSStringFromClass(__class__) if (
      title := self.navigationItem.title) is None else title

    self.view.backgroundColor = UIColor.systemDarkPinkColor()

    # --- Table
    sf_tableView = UITableView.alloc().initWithFrame_style_(
      self.view.bounds, UITableViewStyle.plain)
    sf_tableView.registerClass_forCellReuseIdentifier_(UITableViewCell,
                                                       self.cell_identifier)
    sf_tableView.dataSource = self

    sf_tableView.backgroundColor = UIColor.systemCyanColor()

    # --- Layout
    self.view.addSubview_(sf_tableView)
    sf_tableView.translatesAutoresizingMaskIntoConstraints = False
    areaLayoutGuide = self.view.safeAreaLayoutGuide

    NSLayoutConstraint.activateConstraints_([
      sf_tableView.centerXAnchor.constraintEqualToAnchor_(
        areaLayoutGuide.centerXAnchor),
      sf_tableView.centerYAnchor.constraintEqualToAnchor_(
        areaLayoutGuide.centerYAnchor),
      sf_tableView.widthAnchor.constraintEqualToAnchor_multiplier_(
        areaLayoutGuide.widthAnchor, 0.5),
      sf_tableView.heightAnchor.constraintEqualToAnchor_multiplier_(
        areaLayoutGuide.heightAnchor, 0.5),
    ])

  @objc_method
  def didReceiveMemoryWarning(self):
    send_super(__class__, self, 'didReceiveMemoryWarning')
    print(f'\t{NSStringFromClass(__class__)}: didReceiveMemoryWarning')

  # --- UITableViewDataSource
  @objc_method
  def tableView_numberOfRowsInSection_(self, tableView, section: int) -> int:
    return len(self.all_items)

  @objc_method
  def tableView_cellForRowAtIndexPath_(self, tableView, indexPath):
    cell = tableView.dequeueReusableCellWithIdentifier_forIndexPath_(
      self.cell_identifier, indexPath)

    symbol_name = self.all_items[indexPath.row]

    content = cell.defaultContentConfiguration()
    content.text = symbol_name
    content.image = UIImage.systemImageNamed_(symbol_name)
    cell.contentConfiguration = content

    return cell
```

ËÉåÈù¢Ëâ≤„Çí`systemDarkPinkColor` „Å´„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇ
`sf_tableView` „Å®„ÅÆÂ¢ÉÁïå„Å®„ÄÅ„Çπ„ÇØ„É≠„Éº„É´ÊåôÂãïÊôÇ„ÅÆ„Éä„Éì„Ç≤„Éº„Ç∑„Éß„É≥ÈÄèÈÅé„ÅÆÁ¢∫Ë™çÁî®„Åß„Åô„ÄÇ


### `systemImageNamed_` „É°„ÇΩ„ÉÉ„Éâ


[`UIImage`](https://developer.apple.com/documentation/uikit/uiimage?language=objc) „ÅÆ[`systemImageNamed:`](https://developer.apple.com/documentation/uikit/uiimage/init%28systemname:%29?language=objc) „Å∏„ÄÅÊñáÂ≠óÂàó„ÅßSF Symbols „ÅÆÂêçÂâç„ÇíÂºïÊï∞„Å´Ê∏°„Åõ„Å∞ÂèñÂæó„Åß„Åç„Åæ„Åô„ÄÇ


@[card](https://developer.apple.com/documentation/uikit/uiimage/init%28systemname:%29?language=objc)
@[card](https://developer.apple.com/documentation/uikit/uiimage?language=objc)

```python
UIImage = ObjCClass('UIImage')


class SFSymbolsViewController(UIViewController):

  all_items: list = objc_property()

  @objc_method
  def loadView(self):
    send_super(__class__, self, 'loadView')
    self.all_items = get_order_list()


  @objc_method
  def viewDidLoad(self):
    send_super(__class__, self, 'viewDidLoad')

    # ËÉåÊôØËâ≤ËøΩÂä†
    self.view.backgroundColor = UIColor.systemDarkPinkColor()


  @objc_method
  def tableView_cellForRowAtIndexPath_(self, tableView, indexPath):
    cell = tableView.dequeueReusableCellWithIdentifier_forIndexPath_(
      self.cell_identifier, indexPath)

    symbol_name = self.all_items[indexPath.row]

    content = cell.defaultContentConfiguration()
    content.text = symbol_name
    content.image = UIImage.systemImageNamed_(symbol_name)
    cell.contentConfiguration = content

    return cell
```

ÈÖçÂàó`self.all_items` „Çà„Çä„ÄÅ„Ç§„É≥„Éá„ÉÉ„ÇØ„Çπ„ÅßË©≤ÂΩì„ÅÆÊÉÖÂ†±„ÇíÂèñÂæó„Åó„Åæ„Åô„ÄÇ
„Åù„Åó„Å¶„ÄÅ[`defaultContentConfiguration`](https://developer.apple.com/documentation/uikit/uitableviewcell/defaultcontentconfiguration?language=objc) „ÅÆ„ÄÅ`.image` „Å∏ÂÆöÁæ©„Åô„Çå„Å∞ÂèçÊò†„Åï„Çå„Åæ„Åô„ÄÇ


## ‰ªï‰∏ä„Åí„Å´ÂæÆË™øÊï¥

‰ªï‰∏ä„Åí„Å´:

- Ë¶ã„ÅüÁõÆ„ÅÆÊï¥„Åà
  - `sf_tableView` „ÅÆÂÖ®ÁîªÈù¢Ë°®Á§∫
  - „Çª„É´„ÅÆÊñáÂ≠óÂàó„Çí1Ë°å„ÅßË°®Á§∫
- Êäº„Åó„Åü„Çª„É´„ÅÆ„Ç¢„Ç§„Ç≥„É≥Âêç„ÇíÂá∫Âäõ
- ‰∏çË¶Å„Å™Âá¶ÁêÜ„ÅÆÊï¥ÁêÜ
  - `backgroundColor`

„Çí„Åó„Å¶„ÄÅÂÆåÊàê„Å®„Åó„Åæ„Åô„ÄÇ

![image](https://github.com/user-attachments/assets/9bd5ebab-2e22-4f66-be66-fb31da505efb)


```python
from pathlib import Path
import plistlib

from pyrubicon.objc.api import ObjCClass
from pyrubicon.objc.api import objc_method, objc_property
from pyrubicon.objc.runtime import send_super

from rbedge.enumerations import UITableViewStyle
from rbedge.functions import NSStringFromClass
from rbedge import pdbr

UIViewController = ObjCClass('UIViewController')
UITableView = ObjCClass('UITableView')
UITableViewCell = ObjCClass('UITableViewCell')
UIImage = ObjCClass('UIImage')

NSLayoutConstraint = ObjCClass('NSLayoutConstraint')
UIColor = ObjCClass('UIColor')


def get_order_list():
  CoreGlyphs_path = '/System/Library/CoreServices/CoreGlyphs.bundle/'

  symbol_order_path = 'symbol_order.plist'
  symbol_order_bundle = Path(CoreGlyphs_path, symbol_order_path)

  order_list = plistlib.loads(symbol_order_bundle.read_bytes())
  return order_list


class SFSymbolsViewController(UIViewController):

  cell_identifier: str = objc_property()
  all_items: list = objc_property()

  @objc_method
  def loadView(self):
    send_super(__class__, self, 'loadView')
    self.cell_identifier = 'customCell'
    self.all_items = get_order_list()

  @objc_method
  def viewDidLoad(self):
    send_super(__class__, self, 'viewDidLoad')

    # --- Navigation
    self.navigationItem.title = NSStringFromClass(__class__) if (
      title := self.navigationItem.title) is None else title
    self.view.backgroundColor = UIColor.systemBackgroundColor()

    # --- Table
    sf_tableView = UITableView.alloc().initWithFrame_style_(
      self.view.bounds, UITableViewStyle.plain)
    sf_tableView.registerClass_forCellReuseIdentifier_(UITableViewCell,
                                                       self.cell_identifier)
    sf_tableView.dataSource = self
    sf_tableView.delegate = self

    # --- Layout
    self.view.addSubview_(sf_tableView)
    sf_tableView.translatesAutoresizingMaskIntoConstraints = False
    areaLayoutGuide = self.view.safeAreaLayoutGuide

    NSLayoutConstraint.activateConstraints_([
      sf_tableView.centerXAnchor.constraintEqualToAnchor_(
        areaLayoutGuide.centerXAnchor),
      sf_tableView.centerYAnchor.constraintEqualToAnchor_(
        areaLayoutGuide.centerYAnchor),
      sf_tableView.widthAnchor.constraintEqualToAnchor_multiplier_(
        areaLayoutGuide.widthAnchor, 1.0),
      sf_tableView.heightAnchor.constraintEqualToAnchor_multiplier_(
        areaLayoutGuide.heightAnchor, 1.0),
    ])

  @objc_method
  def didReceiveMemoryWarning(self):
    send_super(__class__, self, 'didReceiveMemoryWarning')
    print(f'\t{NSStringFromClass(__class__)}: didReceiveMemoryWarning')

  # --- UITableViewDataSource
  @objc_method
  def tableView_numberOfRowsInSection_(self, tableView, section: int) -> int:
    return len(self.all_items)

  @objc_method
  def tableView_cellForRowAtIndexPath_(self, tableView, indexPath):
    cell = tableView.dequeueReusableCellWithIdentifier_forIndexPath_(
      self.cell_identifier, indexPath)

    symbol_name = self.all_items[indexPath.row]

    content = cell.defaultContentConfiguration()
    content.text = symbol_name
    content.textProperties.numberOfLines = 1
    content.image = UIImage.systemImageNamed_(symbol_name)
    cell.contentConfiguration = content

    return cell

  # --- UITableViewDelegate
  @objc_method
  def tableView_didSelectRowAtIndexPath_(self, tableView, indexPath):
    #tableView.deselectRowAtIndexPath_animated_(indexPath, True)
    select_item = self.all_items[indexPath.row]

    print(f'select:\t{select_item}')


if __name__ == '__main__':
  from rbedge.app import App
  from rbedge.enumerations import UIModalPresentationStyle

  main_vc = SFSymbolsViewController.new()
  _title = NSStringFromClass(SFSymbolsViewController)
  main_vc.navigationItem.title = _title

  presentation_style = UIModalPresentationStyle.fullScreen

  app = App(main_vc, presentation_style)
  app.present()
```


# „Åä„Çè„Çä„Å´


`UITableView` Ê§úÁ¥¢
„ÇØ„É™„ÉÉ„Éó„Éú„Éº„Éâ„Å´„Ç≥„Éî„Éº
„Éñ„É™„Éº„Éï„Ç±„Éº„Çπ„Åß„Çπ„Éà„Ç¢ÂÖ¨Èñã„Åß„Åç„Çã„Åã„ÇÇÔºü
