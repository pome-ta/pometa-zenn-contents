---
title: 'ã€åˆ¶ä½œç·¨ã€‘#3: a-Shell(mini) ã® Python ã¦ã‚™ UIKit ã‹ã‚‰ View ã‚’å‘¼ã²ã‚™å‡ºã™ã€Rubicon-ObjCã€‘'
emoji: 'ğŸ'
type: 'tech'
topics: ['Python', 'iOS', 'objectivec', 'ashell', 'rubiconobjc']
published: false
---

# ã¯ã˜ã‚ã«

[a-Shell](https://holzschu.github.io/a-Shell_iOS/) ã§ã€[SF Symbols](https://developer.apple.com/jp/sf-symbols/) ã®ä¸€è¦§ã‚’å‡ºã™ç°¡å˜ãªã‚¢ãƒ—ãƒªã‚’ã¤ãã‚Šã¾ã™ã€‚
:::message
App Store ã¸å…¬é–‹ã¯ã§ãã¾ã›ã‚“
:::

![image](https://github.com/user-attachments/assets/9bd5ebab-2e22-4f66-be66-fb31da505efb)

@[card](https://developer.apple.com/jp/sf-symbols/)

ä»Šã¾ã§ç´¹ä»‹ã—ãŸ module ã‚’ä½¿ã„ã€ç«¯æœ«å†…ã«ã‚ã‚‹ SF Symbols ãƒ‡ãƒ¼ã‚¿ã®å–ã‚Šå‡ºã—ã‹ã‚‰è¡¨ç¤ºã¾ã§ã‚’ãƒãƒ³ã‚ºã‚ªãƒ³å½¢å¼ã§å®Ÿè£…ã—ã¦ã„ãã¾ã™ã€‚

## å…¨ 3 éƒ¨æ§‹æˆã®ç¬¬ 2 éƒ¨ã§ã™

ã“ã®è¨˜äº‹ã‚’å«ã‚ã€3 éƒ¨æ§‹æˆã§è§£èª¬ã‚’ã—ã¦ã„ãã¾ã™:

- ã€åŸºæœ¬ç·¨ã€‘#1: a-Shell(mini) ã§ã‚¢ãƒ—ãƒªã‚’ã¤ãã‚‹ã€Rubicon-ObjCã€‘

  - a-Shell å®Ÿè¡Œã®å¤§ã¾ã‹ãªæµã‚Œ
  - 1 ãƒ•ã‚¡ã‚¤ãƒ«ã®ã¿ã®ç°¡æ˜“ãªå®Ÿè£…

- ã€module ç·¨ã€‘#2: a-Shell(mini) ã§ã‚¢ãƒ—ãƒªã‚’ã¤ãã‚‹ã€Rubicon-ObjCã€‘

  - 1 ãƒ•ã‚¡ã‚¤ãƒ«ã ã£ãŸã‚³ãƒ¼ãƒ‰ã‚’ module ã¸åˆ†å‰²
  - å„éƒ¨ã‚³ãƒ¼ãƒ‰ã®èª¬æ˜
  - ã‚¢ãƒ—ãƒªåˆ¶ä½œã®ãŸã‚ã®ç’°å¢ƒæ•´å‚™

- ã€åˆ¶ä½œç·¨ã€‘#3: a-Shell(mini) ã® Python ã§ UIKit ã‹ã‚‰ View ã‚’å‘¼ã³å‡ºã™ã€Rubicon-ObjCã€‘
  - (ä»Šå›ã¯ã“ã“)
  - Rubicon-ObjC ã‚’ä½¿ã£ãŸå®Ÿè£…ã®æµã‚Œ
  - Swift, Objective-C ã®ã‚³ãƒ¼ãƒ‰ã‚’ Rubicon-ObjC ã¸è½ã¨ã—è¾¼ã¿

3 ã¤ã®è¨˜äº‹ã‚’é€šã—ãŸã‚³ãƒ¼ãƒ‰ã¯ã€GitHub ã§å…¬é–‹ã—ã¦ã„ã¾ã™ã€‚

@[card](https://github.com/pome-ta/a-Shell_Rubicon-ObjC_UIKitSamples)

:::message

### å„ãƒãƒ¼ã‚¸ãƒ§ãƒ³æƒ…å ±

```
iOS           : 18.3.1
a-Shell(mini) :  1.15.11
  Python      :  3.11.0
Rubicon-ObjC  :  0.5.0
```

(ä¸€å¿œ)a-Shell ä»¥å¤–ã« [Pythonista for iOS](https://omz-software.com/pythonista/index.html) ã§ã€æŒ™å‹•ç¢ºèªã‚’ã—ã¦ã„ã¾ã™ã€‚
:::

:::message alert

### module å†…ãƒ•ã‚¡ã‚¤ãƒ«ç·¨é›†å¾Œã®å®Ÿè¡Œã«ã¤ã„ã¦

import ã™ã‚‹ module ã‚’ç·¨é›†ã—å®Ÿè¡Œã—ãŸå ´åˆã€**å¤‰æ›´å†…å®¹ãŒåæ˜ ã•ã‚Œãªã„**ã“ã¨ãŒã‚ã‚Šã¾ã™ã€‚
ãã®ãŸã‚ã€module å†…ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç·¨é›†ã—ãŸå¾Œã¯ã€**a-Shell ã‚’å†èµ·å‹•**ã—ã¦ã‹ã‚‰ã€å®Ÿè¡Œã™ã‚‹ã“ã¨ã‚’ãŠå‹§ã‚ã—ã¾ã™ã€‚
:::


# ãƒãƒ³ã‚ºã‚ªãƒ³

ç©ºã®æ–°è¦ãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰ã€é †ã‚’è¿½ã£ã¦å®Ÿè£…ã—ã¦ã„ãã¾ã™ã€‚æœ€çµ‚çš„ã«ã¯`exampleSFSymbolsViewer.py` ã¨ãªã‚‹äºˆå®šã§ã™ã€‚


## ã¾ãšã¯ã€ä½•ã‚‚ã—ãªã„View ã‚’å‡ºã™

### `UIViewController`  ã‚’ãã®ã¾ã¾

View ãŒå‡ºãªã„ã¨å§‹ã¾ã‚‰ãªã„ã®ã§ã€View ãŒå‡ºã‚‹çŠ¶æ…‹ã¾ã§æŒã£ã¦ã„ãã¾ã™ã€‚
Class `UIViewController` ã‚’ç¶™æ‰¿ã—ã¾ã™ãŒã€æœ€åˆã¯`UIViewController` ã‚’ãã®ã¾ã¾å‡ºã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚

```python
from pyrubicon.objc.api import ObjCClass
from rbedge.functions import NSStringFromClass

UIViewController = ObjCClass('UIViewController')

if __name__ == '__main__':
  from rbedge.app import App
  from rbedge.enumerations import UIModalPresentationStyle

  main_vc = UIViewController.new()
  _title = NSStringFromClass(UIViewController)
  main_vc.navigationItem.title = _title

  presentation_style = UIModalPresentationStyle.fullScreen

  app = App(main_vc, presentation_style)
  app.present()

```

![image](https://github.com/user-attachments/assets/9eed1ee0-e57c-4aba-aa49-941e799bac46)


`navigationItem.title` ã‚’ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ç”Ÿæˆå¾Œã«è¨­å®šã—ã¦ã„ã¾ã™ã€‚`NSStringFromClass` ã§ã€Class `UIViewController` ã‚ˆã‚Šæ–‡å­—åˆ—ã‚’å–å¾—ã—ã¾ã™ã€‚


### ç¶™æ‰¿ã—ãŸã‚¯ãƒ©ã‚¹`SFSymbolsViewController`

Class `UIViewController` ã‚’ç¶™æ‰¿ã—`SFSymbolsViewController` ã‚¯ãƒ©ã‚¹ã¨ã—ã¾ã™ã€‚
ä»Šå¾Œã¯ã“ã®ã‚¯ãƒ©ã‚¹ã«å®Ÿè£…å†…å®¹ã‚’æ›¸ã„ã¦ã„ãã¾ã™ã€‚


```python
from pyrubicon.objc.api import ObjCClass
from pyrubicon.objc.api import objc_method
from pyrubicon.objc.runtime import send_super

from rbedge.functions import NSStringFromClass
from rbedge import pdbr

UIViewController = ObjCClass('UIViewController')


class SFSymbolsViewController(UIViewController):

  @objc_method
  def viewDidLoad(self):
    send_super(__class__, self, 'viewDidLoad')

    # --- Navigation
    self.navigationItem.title = NSStringFromClass(__class__) if (
      title := self.navigationItem.title) is None else title

  @objc_method
  def didReceiveMemoryWarning(self):
    send_super(__class__, self, 'didReceiveMemoryWarning')
    print(f'\t{NSStringFromClass(__class__)}: didReceiveMemoryWarning')


if __name__ == '__main__':
  from rbedge.app import App
  from rbedge.enumerations import UIModalPresentationStyle

  main_vc = SFSymbolsViewController.new()
  _title = NSStringFromClass(SFSymbolsViewController)
  main_vc.navigationItem.title = _title

  presentation_style = UIModalPresentationStyle.fullScreen

  app = App(main_vc, presentation_style)
  app.present()
```


#### ç¶™æ‰¿ã—ãŸã®ã§æ›¸ãæ›ãˆã‚‹

ç¶™æ‰¿ã—ã¦ã‚¯ãƒ©ã‚¹ã‚’å®šç¾©ã™ã‚‹ã®ã§ã€`send_super` ã¨`objc_method` ã‚’`import` ã«è¿½åŠ ã—ã¦ã„ã¾ã™ã€‚ã¾ãŸã€View Life Cycleç³»ã®ãƒ¡ã‚½ãƒƒãƒˆã‚™ã¯å¿…è¦ãªãƒ¡ã‚½ãƒƒãƒ‰ã®ã¿æ›¸ã„ã¦ã„ãã“ã¨ã«ã—ã¾ã™ã€‚


```diff python
from pyrubicon.objc.api import ObjCClass
+ from pyrubicon.objc.api import objc_method
+ from pyrubicon.objc.runtime import send_super

from rbedge.functions import NSStringFromClass
```

è¡¨ç¤ºã•ã›ã‚‹ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’`UIViewController` ã‹ã‚‰`SFSymbolsViewController` ã«å¤‰æ›´ã—ã¦ã„ã¾ã™ã€‚


```diff python
+ main_vc = SFSymbolsViewController.new()
- main_vc = UIViewController.new()
+ _title = NSStringFromClass(SFSymbolsViewController)
- _title = NSStringFromClass(UIViewController)
```


#### `navigationItem.title` ã®æŒ‡å®š




ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ç”Ÿæˆå¾Œã®ã‚¿ã‚¤ãƒˆãƒ«æŒ‡å®šæœ‰ç„¡ã«


View è¡¨ç¤ºæ™‚ã®ã‚¿ã‚¤ãƒˆãƒ«ã¯ã€ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ç”Ÿæˆå¾Œã«æŒ‡å®šã—ãŸå ´åˆã«ã¯ã€ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ç”Ÿæˆå¾Œã®ã‚¿ã‚¤ãƒˆãƒ«ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚
ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ç”Ÿæˆå¾Œã«ã‚¿ã‚¤ãƒˆãƒ«ã‚’æŒ‡å®šã—ãªã„å ´åˆã«ã¯ã€`viewDidLoad` ãƒ¡ã‚½ãƒƒãƒ‰å†…ã§æŒ‡å®šã—ãŸã‚¿ã‚¤ãƒˆãƒ«ã¨ãªã‚Šã¾ã™ã€‚

```python
# --- Navigation
self.navigationItem.title = NSStringFromClass(__class__) if (
  title := self.navigationItem.title) is None else title
```

`viewDidLoad` ãŒå‘¼ã°ã‚Œã‚‹ã®ã¯ã€ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ç”Ÿæˆå¾Œã¨ãªã‚‹ã®ã§ã€ç”Ÿæˆå¾Œã«ã‚¿ã‚¤ãƒˆãƒ«ã‚’æŒ‡å®šã—ãªã„å ´åˆã«ã¯ã€


`SFSymbolsViewController` ã§å®Ÿè¡Œã™ã‚‹ã¨ã€

![image](https://github.com/user-attachments/assets/a22b12d3-1846-4c7d-95f7-2d9ad23b1712)

![image](https://github.com/user-attachments/assets/2b9aab47-8ec8-4d42-8b23-fcf0fb148de7)



# ãŠã‚ã‚Šã«


